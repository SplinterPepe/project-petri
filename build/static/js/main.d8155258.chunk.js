(this["webpackJsonpproject-petri"]=this["webpackJsonpproject-petri"]||[]).push([[0],{159:function(e,t,n){e.exports=n.p+"static/media/logo.08303463.png"},165:function(e,t,n){e.exports=n(319)},170:function(e,t,n){},319:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),i=n(50),a=n.n(i),s=(n(170),n(3)),c=n(5),l=n(2),d=n(7),u=n(6),h=n(4),p=n(9),g=function(e){return e.initialState},f=function(e){return e.currentState.graphData},m=function(e){return e.currentState.stats},k=function(e){return e.temporaryState},v=function(e){return e.sequence},O=function(e){return e.focusedNode},y=function(e){return e.isFiring},b=function(e){return e.appContent.editor},T=function(e){return e.appContent.sim},E=function(e){return e.appContent.stats};function S(e){return{type:"SUBMIT_STATE_TO_CURRENT",payload:{netType:e.netType,nodes:e.nodes,links:e.links}}}function C(e){return{type:"SUBMIT_STATE_TO_TEMPORARY",payload:{netType:e.netType,nodes:e.nodes,links:e.links}}}function _(e){return{type:"SUBMIT_STATE_TO_SEQUENCE",payload:{nodes:e.nodes,links:e.links}}}var N=n(1),j=n(327),A=n(34),x=n(161),L=n(33),R=n(326),D=n(160),M={SYMBOLS:{CIRCLE:"place",CROSS:"cross",DIAMOND:"diamond",SQUARE:"transition",STAR:"star",TRIANGLE:"triangle",WYE:"wye"}},P=Object(N.a)({COORDS_SEPARATOR:",",FORCE_X:.06,FORCE_Y:.06,GRAPH_CONTAINER_ID:"graph-container-zoomable",GRAPH_WRAPPER_ID:"graph-wrapper",KEYWORDS:{SAME:"SAME"},LINK_CLASS_NAME:"link",NODE_CLASS_NAME:"node",TTL_DOUBLE_CLICK_IN_MS:300},M),I={automaticRearrangeAfterDropNode:!1,collapsible:!1,directed:!1,focusAnimationDuration:.75,focusZoom:1,height:400,highlightDegree:1,highlightOpacity:1,linkHighlightBehavior:!1,maxZoom:8,minZoom:.1,nodeHighlightBehavior:!1,panAndZoom:!1,staticGraph:!1,staticGraphWithDragAndDrop:!1,width:800,d3:{alphaTarget:.05,gravity:-100,linkLength:100,linkStrength:1,disableLinkForce:!1},node:{color:"#d3d3d3",fontColor:"black",fontSize:8,fontWeight:"normal",highlightColor:"SAME",highlightFontSize:8,highlightFontWeight:"normal",highlightStrokeColor:"SAME",highlightStrokeWidth:"SAME",labelProperty:"id",labelPosition:null,mouseCursor:"pointer",opacity:1,renderLabel:!0,size:200,strokeColor:"none",strokeWidth:1.5,svg:"",nodeType:"place",viewGenerator:null},link:{color:"#d3d3d3",fontColor:"black",fontSize:8,fontWeight:"normal",highlightColor:"SAME",highlightFontSize:8,highlightFontWeight:"normal",labelProperty:"label",mouseCursor:"pointer",opacity:1,renderLabel:!1,semanticStrokeWidth:!1,strokeWidth:1.5,markerHeight:6,markerWidth:6,type:"STRAIGHT"}},w="id prop not defined! id property is mandatory and it should be unique.",G="you are passing invalid data to react-d3-graph. You must include a links array in the data object you're passing down to the <Graph> component.",F="you provided a invalid links data structure. Links source and target attributes must point to an existent node",W="you have not provided enough data for react-d3-graph to render something. You need to provide at least one node",U="links 'value' attribute must be of type number",B=n(23);function H(e,t){return!!e&&Object.prototype.hasOwnProperty.call(e,t)&&"object"===typeof e[t]&&null!==e[t]&&!Y(e[t])}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=[];if(0===n&&e===t)return!0;if(Y(e)&&!Y(t)||!Y(e)&&Y(t))return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a=0,s=r;a<s.length;a++){var c=s[a],l=H(e,c)&&H(t,c);if(l&&n<20)o.push(z(e[c],t[c],n+1));else{var d=Y(e[c])&&Y(t[c])||Object.prototype.hasOwnProperty.call(t,c)&&t[c]===e[c];if(o.push(d),!d)break}}return-1===o.indexOf(!1)}function Y(e){return!!e&&"object"===typeof e&&!Object.keys(e).length}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={};if(0===Object.keys(e||{}).length)return t&&!Y(t)?t:{};for(var r=0,i=Object.keys(e);r<i.length;r++){var a=i[r],s=!!(t[a]&&"object"===typeof t[a]&&"object"===typeof e[a]&&n<20);s?function(){var r=K(e[a],t[a],n+1);o[a]=Object.prototype.hasOwnProperty.call(e[a],"length")&&Object.prototype.hasOwnProperty.call(t[a],"length")?Object.keys(r).map((function(e){return r[e]})):r}():o[a]=Object.prototype.hasOwnProperty.call(t,a)?t[a]:e[a]}return o}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(t,n){return Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]),t}),{})}function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object.keys(e).filter((function(e){return!t.includes(e)}));return Z(e,n)}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"N/A",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"N/A";return"react-d3-graph :: ".concat(e," :: ").concat(t)}function q(e,t){throw Error(V(e,t))}var Q=["id","highlighted","x","y","index","vy","vx"],J=["index","source","target","isHidden"];function $(e){e.nodes&&e.nodes.length||q("Graph",W),e.links&&e.links.length||(!function(e,t){var n="react-d3-graph :: ".concat(e," :: ").concat(t);console.warn(n)}("Graph",G),e.links=[]);for(var t=e.links.length,n=function(t){var n=e.links[t];e.nodes.find((function(e){return e.id===n.source}))||q("Graph","".concat(F,' - "').concat(n.source,'" is not a valid source node id')),e.nodes.find((function(e){return e.id===n.target}))||q("Graph","".concat(F,' - "').concat(n.target,'" is not a valid target node id')),n&&void 0!==n.value&&"number"!==typeof n.value&&q("Graph","".concat(U,' - found in link with source "').concat(n.source,'" and target "').concat(n.target,'"'))},o=0;o<t;o++)n(o)}var ee=["x","y","vx","vy","index"];function te(e){return Z(e,["id"])}function ne(e){return Z(e,["source","target"])}function oe(e){return void 0!==e.id&&null!==e.id?e.id:e}function re(e,t){var n,o=e.data,r=e.id,i=e.config;$(o),n=t&&t.nodes?{nodes:o.nodes.map((function(e){return t.nodes[e.id]?Object(N.a)(Object(N.a)({},e),Z(t.nodes[e.id],Q)):Object(N.a)({},e)})),links:o.links.map((function(e,n){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=n.find((function(t){return t.source.id===e.source&&t.target.id===e.target})),a=i&&Z(i,J),s=X(e,["source","target"]);if(a){var c=r.config&&Object.prototype.hasOwnProperty.call(r.config,"directed")&&o.directed!==r.config.directed,l=Object(N.a)(Object(N.a)({index:t},a),s);return c?Object(N.a)(Object(N.a)({},l),{},{isHidden:!1}):o.collapsible?l:Object(N.a)(Object(N.a)({},l),{},{isHidden:!1})}var d=!1,u={id:e.source,highlighted:d},h={id:e.target,highlighted:d};return Object(N.a)({index:t,source:u,target:h},s)}(e,n,t&&t.d3Links,i,t)}))}:{nodes:o.nodes.map((function(e){return Object(N.a)({},e)})),links:o.links.map((function(e){return Object(N.a)({},e)}))};var a=Object(N.a)({},K(I,i||{})),s=function(e,t){return e.reduce((function(e,n){var o=oe(n.source),r=oe(n.target);e[o]||(e[o]={}),e[r]||(e[r]={});var i=t.collapsible&&n.isHidden?0:n.value||1;return e[o][r]=i,t.directed||(e[r][o]=i),e}),{})}(n.links,a),c=function(e,t){return Object.keys(e).reduce((function(n,o){var r=le(o,t),i=r.inDegree,a=r.outDegree,s=e[o],c=0===i&&0===a?Object(N.a)(Object(N.a)({},s),{},{_orphan:!0}):s;return n[o]=c,n}),{})}(function(e){for(var t={},n=e.length,o=0;o<n;o++){var r=e[o];r.highlighted=!1,Object.prototype.hasOwnProperty.call(r,"x")||(r.x=0),Object.prototype.hasOwnProperty.call(r,"y")||(r.y=0),t[r.id.toString()]=r}return t}(n.nodes),s),l=n,d=l.nodes,u=l.links,h=r.replace(/ /g,"_"),p=function(e,t,n){var o=Object(A.d)(e/2).strength(P.FORCE_X),r=Object(A.e)(t/2).strength(P.FORCE_Y),i=n;return Object(A.c)().force("charge",Object(A.b)().strength(i)).force("x",o).force("y",r)}(a.width,a.height,a.d3&&a.d3.gravity),g=a.minZoom,f=a.maxZoom,m=a.focusZoom;return m>f?a.focusZoom=f:m<g&&(a.focusZoom=g),{id:h,config:a,links:s,d3Links:u,nodes:c,d3Nodes:d,highlightedNode:"",simulation:p,newGraphElements:!1,configUpdated:!1,transform:1,draggedNode:null}}function ie(e,t,n,o){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=r?o:"",a=Object(N.a)(Object(N.a)({},e[o]),{},{highlighted:r}),s=Object(N.a)(Object(N.a)({},e),{},Object(B.a)({},o,a));return t[o]&&0!==n.highlightDegree&&(s=Object.keys(t[o]).reduce((function(e,t){var n=Object(N.a)(Object(N.a)({},s[t]),{},{highlighted:r});return e[t]=n,e}),s)),{nodes:s,highlightedNode:i}}function ae(e,t){return e<=1&&t<1}function se(e,t){return e<=1&&t<=1}function ce(e,t,n){var o=le(e,t);return(n?ae:se)(o.inDegree,o.outDegree)}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(n,o){return t[o]?Object.keys(t[o]).reduce((function(n,r){return e===o&&(n.outDegree+=t[e][r]),e===r&&(n.inDegree+=t[o][e]),n}),n):n}),{inDegree:0,outDegree:0})}var de={MARKER_S:"marker-small",MARKER_SH:"marker-small-highlighted",MARKER_M:"marker-medium",MARKER_MH:"marker-medium-highlighted",MARKER_L:"marker-large",MARKER_LH:"marker-large-highlighted"},ue="S",he="M",pe="L",ge=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleOnClickLink=function(){return e.props.onClickLink&&e.props.onClickLink(e.props.source,e.props.target)},e.handleOnRightClickLink=function(t){return e.props.onRightClickLink&&e.props.onRightClickLink(t,e.props.source,e.props.target)},e.handleOnMouseOverLink=function(){return e.props.onMouseOverLink&&e.props.onMouseOverLink(e.props.source,e.props.target)},e.handleOnMouseOutLink=function(){return e.props.onMouseOutLink&&e.props.onMouseOutLink(e.props.source,e.props.target)},e}return Object(l.a)(n,[{key:"render",value:function(){var e={strokeWidth:this.props.strokeWidth,stroke:this.props.stroke,opacity:this.props.opacity,fill:"none",cursor:this.props.mouseCursor},t={className:this.props.className,d:this.props.d,onClick:this.handleOnClickLink,onContextMenu:this.handleOnRightClickLink,onMouseOut:this.handleOnMouseOutLink,onMouseOver:this.handleOnMouseOverLink,style:e};this.props.markerId&&(t.markerEnd="url(#".concat(this.props.markerId,")"));var n=this.props,o=n.label,i=n.id,a={dy:-1,style:{fill:this.props.fontColor,fontSize:this.props.fontSize,fontWeight:this.props.fontWeight}};return r.a.createElement("g",null,r.a.createElement("path",Object.assign({},t,{id:i})),o&&r.a.createElement("text",Object.assign({style:{textAnchor:"middle"}},a),r.a.createElement("textPath",{href:"#".concat(i),startOffset:"50%"},o)))}}]),n}(r.a.Component),fe=n(98),me=n(149),ke=n(150),ve=n(151),Oe=n(152),ye=n(153),be=n(154),Te=n(328),Ee=Object(N.a)({ARC:{START_ANGLE:0,END_ANGLE:2*Math.PI},DEFAULT_NODE_SIZE:I.node.size,NODE_LABEL_DX:".90em",NODE_LABEL_DY:".35em"},M);function Se(e){switch(e){case Ee.SYMBOLS.CIRCLE:return fe.a;case Ee.SYMBOLS.CROSS:return me.a;case Ee.SYMBOLS.DIAMOND:return ke.a;case Ee.SYMBOLS.SQUARE:return ve.a;case Ee.SYMBOLS.STAR:return Oe.a;case Ee.SYMBOLS.TRIANGLE:return ye.a;case Ee.SYMBOLS.WYE:return be.a;default:return fe.a}}var Ce,_e={buildSvgSymbol:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee.DEFAULT_NODE_SIZE,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee.SYMBOLS.CIRCLE;return Object(Te.a)().size((function(){return e})).type((function(){return Se(t)}))()},getLabelPlacementProps:function(e,t){switch(t){case"right":return{dx:e?"".concat(e):Ee.NODE_LABEL_DX,dy:"0",dominantBaseline:"middle",textAnchor:"start"};case"left":return{dx:e?"".concat(-e):"-".concat(Ee.NODE_LABEL_DX),dy:"0",dominantBaseline:"middle",textAnchor:"end"};case"top":return{dx:"0",dy:e?"".concat(-e):"-".concat(Ee.NODE_LABEL_DX),dominantBaseline:"baseline",textAnchor:"middle"};case"bottom":return{dx:"0",dy:e?"".concat(e):Ee.NODE_LABEL_DX,dominantBaseline:"hanging",textAnchor:"middle"};case"center":return{dx:"0",dy:"0",dominantBaseline:"middle",textAnchor:"middle"};default:return{dx:e?"".concat(e):Ee.NODE_LABEL_DX,dy:Ee.NODE_LABEL_DY}}}},Ne=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleOnClickNode=function(){return e.props.onClickNode&&e.props.onClickNode(e.props.id)},e.handleOnRightClickNode=function(t){return e.props.onRightClickNode&&e.props.onRightClickNode(t,e.props.id)},e.handleOnMouseOverNode=function(){return e.props.onMouseOverNode&&e.props.onMouseOverNode(e.props.id)},e.handleOnMouseOutNode=function(){return e.props.onMouseOut&&e.props.onMouseOut(e.props.id)},e}return Object(l.a)(n,[{key:"render",value:function(){var e={cursor:this.props.cursor,onClick:this.handleOnClickNode,onContextMenu:this.handleOnRightClickNode,onMouseOut:this.handleOnMouseOutNode,onMouseOver:this.handleOnMouseOverNode,opacity:this.props.opacity},t=Object(N.a)(Object(N.a)({},_e.getLabelPlacementProps(this.props.dx,this.props.labelPosition)),{},{fill:this.props.fontColor,fontSize:this.props.fontSize,fontWeight:this.props.fontWeight,opacity:this.props.opacity}),n=this.props.size,o=this.props.cx,i=this.props.cy,a=null,s=null;if(this.props.svg||this.props.viewGenerator){var c=n/10,l=n/10,d=l/2,u=c/2,h="translate(".concat(d,",").concat(u,")");a=r.a.createElement("text",Object.assign({},t,{transform:h}),this.props.label),s=this.props.viewGenerator&&!this.props.overrideGlobalViewGenerator?r.a.createElement("svg",Object.assign({},e,{width:l,height:c}),r.a.createElement("foreignObject",{x:"0",y:"0",width:"100%",height:"100%"},r.a.createElement("section",{style:{height:c,width:l,backgroundColor:"transparent"}},this.props.viewGenerator(this.props)))):r.a.createElement("image",Object.assign({},e,{href:this.props.svg,width:l,height:c})),o-=d,i-=u}else e.d=_e.buildSvgSymbol(n,this.props.type),e.fill=this.props.fill,e.stroke=this.props.stroke,e.strokeWidth=this.props.strokeWidth,a=r.a.createElement("text",t,this.props.label,this.props.marks?" \u041c\u0435\u0442\u043a\u0438: ".concat(this.props.marks):""),s=r.a.createElement("path",e);var p={className:this.props.className,cx:this.props.cx,cy:this.props.cy,id:this.props.id,transform:"translate(".concat(o,",").concat(i,")")};return r.a.createElement("g",p,s,this.props.renderLabel&&a)}}]),n}(r.a.Component),je=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement("marker",{className:"marker",id:this.props.id,viewBox:"0 -5 10 10",refX:this.props.refX,refY:"0",markerWidth:this.props.markerWidth,markerHeight:this.props.markerHeight,orient:"auto",fill:this.props.fill},r.a.createElement("path",{d:"M0,-5L10,0L0,5"}))}}]),n}(r.a.Component),Ae={STRAIGHT:"STRAIGHT",CURVE_SMOOTH:"CURVE_SMOOTH",CURVE_FULL:"CURVE_FULL"};var xe=(Ce={},Object(B.a)(Ce,Ae.STRAIGHT,(function(){return 0})),Object(B.a)(Ce,Ae.CURVE_SMOOTH,(function(e,t,n,o){var r=n-e,i=o-t;return Math.sqrt(r*r+i*i)})),Object(B.a)(Ce,Ae.CURVE_FULL,(function(){return 1})),Ce);function Le(e){return xe[e]||xe[Ae.STRAIGHT]}function Re(e,t,n){var o=n.maxZoom,r=function(e,t){return"MARKER_".concat(e).concat(t)}(function(e,t,n){return e<t?ue:e>=t&&e<n?he:pe}(t,o/4,o/2),e?"H":"");return de[r]}var De=function(){var e={};return function(t,n,o){var r=o.maxZoom,i="".concat(t,";").concat(n,";").concat(r);if(e[i])return e[i];var a=Re(t,n,{maxZoom:r});return e[i]=a,a}}();function Me(e,t,n,o){var r=e.highlighted||e.id===(n&&n.source)||e.id===(n&&n.target),i=n&&n.source&&n.target,a=!(!t&&!i);return a&&0===o.highlightDegree||a?r?o.node.opacity:o.highlightOpacity:e.opacity||o.node.opacity}function Pe(e,t,n,o,r,i,a,s){var c,l,d,u,h=e.source,p=e.target,g=function(e){var t=e.source,n=void 0===t?{}:t,o=e.target,r=void 0===o?{}:o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.STRAIGHT,a=n.x,s=n.y,c=r.x,l=r.y,d=Ae[i]||Ae.STRAIGHT,u=Le(d)(a,s,c,l);return"M".concat(a,",").concat(s,"A").concat(u,",").concat(u," 0 0,1 ").concat(c,",").concat(l)}({source:{x:(null===t||void 0===t||null===(c=t[h])||void 0===c?void 0:c.x)||0,y:(null===t||void 0===t||null===(l=t[h])||void 0===l?void 0:l.y)||0},target:{x:(null===t||void 0===t||null===(d=t[p])||void 0===d?void 0:d.x)||0,y:(null===t||void 0===t||null===(u=t[p])||void 0===u?void 0:u.y)||0}},e.type||o.link.type),f=!1;switch(o.highlightDegree){case 0:break;case 2:f=!0;break;default:f=h===i||p===i}var m=f&&t[h].highlighted&&t[p].highlighted,k=h===(a&&a.source)&&p===(a&&a.target),v=m||k,O=e.opacity||o.link.opacity;(i||a&&a.source)&&(O=v?o.link.opacity:o.highlightOpacity);var y=e.color||o.link.color;v&&(y=o.link.highlightColor===P.KEYWORDS.SAME?o.link.color:o.link.highlightColor);var b=(e.strokeWidth||o.link.strokeWidth)*(1/s);o.link.semanticStrokeWidth&&(b+=(n[h][p]||n[p][h]||1)*b/10);var T=o.directed?De(v,s,o):null,E=1/s,S=null,C=null,_=null,N=null;return o.link.renderLabel&&(N="function"===typeof o.link.labelProperty?o.link.labelProperty(e):e[o.link.labelProperty],S=e.fontSize||o.link.fontSize,C=e.fontColor||o.link.fontColor,_=v?o.link.highlightFontWeight:o.link.fontWeight),{className:P.LINK_CLASS_NAME,d:g,fontColor:C,fontSize:S*E,fontWeight:_,label:N,markerId:T,mouseCursor:o.link.mouseCursor,opacity:O,source:h,stroke:y,strokeWidth:b,target:p,onClickLink:r.onClickLink,onMouseOutLink:r.onMouseOutLink,onMouseOverLink:r.onMouseOverLink,onRightClickLink:r.onRightClickLink}}function Ie(e,t,n,o,i,a,s,c){var l=t;return o.collapsible&&(l=l.filter((function(e){return!e.isHidden}))),l.map((function(t){var l=t.source,d=t.target,u=oe(l),h=oe(d),p="".concat(u).concat(P.COORDS_SEPARATOR).concat(h),g=Pe(Object(N.a)(Object(N.a)({},t),{},{source:"".concat(u),target:"".concat(h)}),e,n,o,i,"".concat(a),s,c);return r.a.createElement(ge,Object.assign({key:p,id:p},g))}))}function we(e,t,n,o,i,a,s){var c=Object.keys(e);return n.collapsible&&(c=c.filter((function(t){return function(e,t,n){if(!t[e])return!1;if(t[e]._orphan)return!0;var o=le(e,n),r=o.inDegree,i=o.outDegree;return r>0||i>0}(t,e,s)}))),c.map((function(s){var c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=e.highlighted||e.id===(r&&r.source)||e.id===(r&&r.target),s=Me(e,o,r,t),c=e.color||t.node.color;a&&t.node.highlightColor!==P.KEYWORDS.SAME&&(c=t.node.highlightColor);var l=e.strokeColor||t.node.strokeColor;a&&t.node.highlightStrokeColor!==P.KEYWORDS.SAME&&(l=t.node.highlightStrokeColor);var d=e[t.node.labelProperty]||e.id;"function"===typeof t.node.labelProperty&&(d=t.node.labelProperty(e));var u=e.labelPosition||t.node.labelPosition,h=e.strokeWidth||t.node.strokeWidth;a&&t.node.highlightStrokeWidth!==P.KEYWORDS.SAME&&(h=t.node.highlightStrokeWidth);var p=1/i,g=e.size||t.node.size,f=a?t.node.highlightFontSize:t.node.fontSize,m=f*p+g/100+1.5,k=e.svg||t.node.svg,v=e.fontColor||t.node.fontColor;return Object(N.a)(Object(N.a)({},e),{},{className:P.NODE_CLASS_NAME,cursor:t.node.mouseCursor,cx:(null===e||void 0===e?void 0:e.x)||"0",cy:(null===e||void 0===e?void 0:e.y)||"0",dx:m,fill:c,fontColor:v,fontSize:f*p,fontWeight:a?t.node.highlightFontWeight:t.node.fontWeight,id:e.id,label:d,labelPosition:u,opacity:s,overrideGlobalViewGenerator:!e.viewGenerator&&e.svg,renderLabel:e.renderLabel||t.node.renderLabel,size:g*p,stroke:l,strokeWidth:h*p,svg:k,type:e.nodeType||t.node.nodeType,viewGenerator:e.viewGenerator||t.node.viewGenerator,onClickNode:n.onClickNode,onMouseOut:n.onMouseOut,onMouseOverNode:n.onMouseOverNode,onRightClickNode:n.onRightClickNode})}(Object(N.a)(Object(N.a)({},e[s]),{},{id:"".concat(s)}),n,t,o,i,a);return r.a.createElement(Ne,Object.assign({key:s},c))}))}var Ge=function(){var e;return function(t){if(e)return e;var n=16+2*t.maxZoom/3,o=16+4*t.maxZoom/3,i={markerWidth:t.link.markerWidth,markerHeight:t.link.markerHeight};return e=r.a.createElement("defs",null,r.a.createElement(je,Object.assign({id:de.MARKER_S,refX:16,fill:t.link.color},i)),r.a.createElement(je,Object.assign({id:de.MARKER_SH,refX:16,fill:t.link.highlightColor},i)),r.a.createElement(je,Object.assign({id:de.MARKER_M,refX:n,fill:t.link.color},i)),r.a.createElement(je,Object.assign({id:de.MARKER_MH,refX:n,fill:t.link.highlightColor},i)),r.a.createElement(je,Object.assign({id:de.MARKER_L,refX:o,fill:t.link.color},i)),r.a.createElement(je,Object.assign({id:de.MARKER_LH,refX:o,fill:t.link.highlightColor},i)))}}();var Fe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e))._generateFocusAnimationProps=function(){var e=o.state.focusedNodeId;o.state.enableFocusAnimation&&(o.focusAnimationTimeout&&clearTimeout(o.focusAnimationTimeout),o.focusAnimationTimeout=setTimeout((function(){return o.setState({enableFocusAnimation:!1})}),1e3*o.state.config.focusAnimationDuration));var t=o.state.enableFocusAnimation?o.state.config.focusAnimationDuration:0;return{style:{transitionDuration:"".concat(t,"s")},transform:e?o.state.focusTransformation:null}},o._onDragEnd=function(){o.isDraggingNode=!1,o.state.draggedNode&&(o.onNodePositionChange(o.state.draggedNode),o._tick({draggedNode:null})),!o.state.config.staticGraph&&o.state.config.automaticRearrangeAfterDropNode&&o.state.simulation.alphaTarget(o.state.config.d3.alphaTarget).restart()},o._onDragMove=function(e,t,n){var r=n[t].id;if(!o.state.config.staticGraph){var i=o.state.nodes[r];i.oldX=i.x,i.oldY=i.y,i.x+=L.c.dx,i.y+=L.c.dy,i.fx=i.x,i.fy=i.y,o._tick({draggedNode:i})}},o._onDragStart=function(){o.isDraggingNode=!0,o.pauseSimulation(),o.state.enableFocusAnimation&&o.setState({enableFocusAnimation:!1})},o._setNodeHighlightedValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o._tick(ie(o.state.nodes,o.state.links,o.state.config,e,t))},o._tick=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t?o.setState(e,t):o.setState(e)},o._zoomConfig=function(){Object(x.a)("#".concat(o.state.id,"-").concat(P.GRAPH_WRAPPER_ID)).call(Object(D.a)().scaleExtent([o.state.config.minZoom,o.state.config.maxZoom]).on("zoom",o._zoomed)).on("dblclick.zoom",null)},o._zoomed=function(){var e=L.c.transform;Object(R.a)("#".concat(o.state.id,"-").concat(P.GRAPH_CONTAINER_ID)).attr("transform",e),o.state.config.panAndZoom&&o.setState({transform:e.k})},o.onClickGraph=function(e){var t,n,r;o.state.enableFocusAnimation&&o.setState({enableFocusAnimation:!1});var i=e.target&&e.target.tagName,a=null===e||void 0===e||null===(t=e.target)||void 0===t||null===(n=t.attributes)||void 0===n||null===(r=n.name)||void 0===r?void 0:r.value,s="svg-container-".concat(o.state.id);"SVG"===i.toUpperCase()&&a===s&&o.props.onClickGraph&&o.props.onClickGraph(e)},o.onClickNode=function(e){if(o.state.config.collapsible){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=n.directed,r=t[e]?Object.keys(t[e]):[];return r.reduce((function(n,r){return ce(r,t,o)&&n.push({source:e,target:r}),n}),[])}(e,o.state.links,o.state.config),n=function(e,t,n){var o=n.directed;return t.reduce((function(e,t){e[t.source]||(e[t.source]={}),e[t.source][t.target]||(e[t.source][t.target]=0);var n=0===e[t.source][t.target]?1:0;return e[t.source][t.target]=n,o||(e[t.target][t.source]=n),e}),Object(N.a)({},e))}(o.state.links,t,o.state.config),r=function(e,t){return e.map((function(e){var n=e.source,o=e.target,r=oe(n),i=oe(o),a=!(t&&t[r]&&t[r][i]);return Object(N.a)(Object(N.a)({},e),{},{isHidden:a})}))}(o.state.d3Links,n),i=null===t||void 0===t?void 0:t[0],a=!1;if(i){var s=n[i.source][i.target];a=1===s}o._tick({links:n,d3Links:r},(function(){o.props.onClickNode&&o.props.onClickNode(e),a&&o._graphNodeDragConfig()}))}else o.nodeClickTimer?(o.props.onDoubleClickNode&&o.props.onDoubleClickNode(e),o.nodeClickTimer=clearTimeout(o.nodeClickTimer)):o.nodeClickTimer=setTimeout((function(){o.props.onClickNode&&o.props.onClickNode(e),o.nodeClickTimer=null}),P.TTL_DOUBLE_CLICK_IN_MS)},o.onMouseOverNode=function(e){o.isDraggingNode||(o.props.onMouseOverNode&&o.props.onMouseOverNode(e),o.state.config.nodeHighlightBehavior&&o._setNodeHighlightedValue(e,!0))},o.onMouseOutNode=function(e){o.isDraggingNode||(o.props.onMouseOutNode&&o.props.onMouseOutNode(e),o.state.config.nodeHighlightBehavior&&o._setNodeHighlightedValue(e,!1))},o.onMouseOverLink=function(e,t){if(o.props.onMouseOverLink&&o.props.onMouseOverLink(e,t),o.state.config.linkHighlightBehavior){var n={source:e,target:t};o._tick({highlightedLink:n})}},o.onMouseOutLink=function(e,t){if(o.props.onMouseOutLink&&o.props.onMouseOutLink(e,t),o.state.config.linkHighlightBehavior){o._tick({highlightedLink:void 0})}},o.onNodePositionChange=function(e){if(o.props.onNodePositionChange){var t=e.id,n=e.x,r=e.y;o.props.onNodePositionChange(t,n,r)}},o.pauseSimulation=function(){return o.state.simulation.stop()},o.resetNodesPositions=function(){if(!o.state.config.staticGraph){for(var e in o.state.nodes){var t=o.state.nodes[e];t.fx&&t.fy&&(Reflect.deleteProperty(t,"fx"),Reflect.deleteProperty(t,"fy"))}o.state.simulation.alphaTarget(o.state.config.d3.alphaTarget).restart(),o._tick()}},o.restartSimulation=function(){return!o.state.config.staticGraph&&o.state.simulation.restart()},o.props.id||q(o.constructor.name,w),o.focusAnimationTimeout=null,o.nodeClickTimer=null,o.isDraggingNode=!1,o.state=re(o.props,o.state),o}return Object(l.a)(n,[{key:"_graphLinkForceConfig",value:function(){var e=Object(A.a)(this.state.d3Links).id((function(e){return e.id})).distance(this.state.config.d3.linkLength).strength(this.state.config.d3.linkStrength);this.state.simulation.force(P.LINK_CLASS_NAME,e)}},{key:"_graphNodeDragConfig",value:function(){var e=Object(j.a)().on("start",this._onDragStart).on("drag",this._onDragMove).on("end",this._onDragEnd);Object(x.a)("#".concat(this.state.id,"-").concat(P.GRAPH_WRAPPER_ID)).selectAll(".node").call(e)}},{key:"_graphBindD3ToReactComponent",value:function(){this.state.config.d3.disableLinkForce||(this.state.simulation.nodes(this.state.d3Nodes).on("tick",this._tick),this._graphLinkForceConfig()),this._graphNodeDragConfig()}}]),Object(l.a)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=function(e,t){var n=e.data.nodes.map((function(e){return X(e,ee)})),o=e.data.links,r=t.d3Nodes.map((function(e){return X(e,ee)})),i=t.d3Links.map((function(e){return{source:oe(e.source),target:oe(e.target)}}));return{graphElementsUpdated:!(z(n,r)&&z(o,i)),newGraphElements:n.length!==r.length||o.length!==i.length||!z(n.map(te),r.map(te))||!z(o.map(ne),i.map(ne))}}(e,this.state),n=t.graphElementsUpdated,o=t.newGraphElements,r=n?re(e,this.state):this.state,i=e.config||{},a=function(e,t){var n=e.config||{};return{configUpdated:n&&!Y(n)&&!z(n,t.config),d3ConfigUpdated:n&&n.d3&&!z(n.d3,t.config.d3)}}(e,this.state),s=a.configUpdated,c=a.d3ConfigUpdated,l=s?K(I,i):this.state.config;o&&this.pauseSimulation();var d=i.panAndZoom!==this.state.config.panAndZoom?1:this.state.transform,u=e.data.focusedNodeId,h=function(e,t){if(e){var n=t.width,o=t.height,r=t.focusZoom;return"\n        translate(".concat(n/2,", ").concat(o/2,")\n        scale(").concat(r,")\n        translate(").concat(-e.x,", ").concat(-e.y,")\n    ")}}(this.state.d3Nodes.find((function(e){return"".concat(e.id)==="".concat(u)})),this.state.config),p=this.props.data.focusedNodeId!==e.data.focusedNodeId;this.setState(Object(N.a)(Object(N.a)({},r),{},{config:l,configUpdated:s,d3ConfigUpdated:c,newGraphElements:o,transform:d,focusedNodeId:u,enableFocusAnimation:p,focusTransformation:h}))}},{key:"componentDidUpdate",value:function(){(this.state.config.staticGraph||this.state.config.staticGraphWithDragAndDrop)&&this.pauseSimulation(),this.state.config.staticGraph||!this.state.newGraphElements&&!this.state.d3ConfigUpdated?this.state.configUpdated&&this._graphNodeDragConfig():(this._graphBindD3ToReactComponent(),this.state.config.staticGraphWithDragAndDrop||this.restartSimulation(),this.setState({newGraphElements:!1,d3ConfigUpdated:!1})),this.state.configUpdated&&(this._zoomConfig(),this.setState({configUpdated:!1}))}},{key:"componentDidMount",value:function(){this.state.config.staticGraph||this._graphBindD3ToReactComponent(),this._zoomConfig()}},{key:"componentWillUnmount",value:function(){this.pauseSimulation(),this.nodeClickTimer&&(clearTimeout(this.nodeClickTimer),this.nodeClickTimer=null),this.focusAnimationTimeout&&(clearTimeout(this.focusAnimationTimeout),this.focusAnimationTimeout=null)}},{key:"render",value:function(){var e=function(e,t,n,o,r,i,a,s,c){return{nodes:we(e,t,i,a,s,c,o),links:Ie(e,n,o,i,r,a,s,c),defs:Ge(i)}}(this.state.nodes,{onClickNode:this.onClickNode,onDoubleClickNode:this.onDoubleClickNode,onRightClickNode:this.props.onRightClickNode,onMouseOverNode:this.onMouseOverNode,onMouseOut:this.onMouseOutNode},this.state.d3Links,this.state.links,{onClickLink:this.props.onClickLink,onRightClickLink:this.props.onRightClickLink,onMouseOverLink:this.onMouseOverLink,onMouseOutLink:this.onMouseOutLink},this.state.config,this.state.highlightedNode,this.state.highlightedLink,this.state.transform),t=e.nodes,n=e.links,o=e.defs,i={height:this.state.config.height,width:this.state.config.width},a=this._generateFocusAnimationProps();return r.a.createElement("div",{id:"".concat(this.state.id,"-").concat(P.GRAPH_WRAPPER_ID)},r.a.createElement("svg",{name:"svg-container-".concat(this.state.id),style:i,onClick:this.onClickGraph},o,r.a.createElement("g",Object.assign({id:"".concat(this.state.id,"-").concat(P.GRAPH_CONTAINER_ID)},a),n,t)))}}]),n}(r.a.Component);function We(){var e=Object(s.a)(["\n  background-color: white;\n  cursor: pointer;\n  width: 1024px;\n  height: 650px;\n  border-radius: 12px;\n  margin: 5px;\n"]);return We=function(){return e},e}var Ue={handleSelectNode:function(e){return{type:"SELECT_NODE",payload:e}}},Be={directed:!0,nodeHighlightBehavior:!0,linkHighlightBehavior:!0,width:1024,height:650,node:{color:"darkgrey",size:150,highlightStrokeColor:"#6FB3D2",highlightStrokeWidth:2,fontWeight:500,highlightFontWeight:700,labelPosition:"top",renderLabel:!0,fontSize:7,highlightFontSize:7},link:{color:"lightgrey",highlightColor:"#6FB3D2",strokeWidth:1.4,type:"CURVE_SMOOTH"}},He=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.currentState,n=e.handleSelectNode;return r.a.createElement(ze,null,r.a.createElement(Fe,{id:"graph-id",data:t,config:Be,onClickNode:function(e){n(e)}}))}}]),n}(r.a.Component),ze=h.a.div(We()),Ye=Object(p.b)((function(e){return{currentState:f(e)}}),Ue)(He);function Ke(){var e=Object(s.a)(["\n  color: #a1c659;\n"]);return Ke=function(){return e},e}function Ze(){var e=Object(s.a)(["\n  color: #6fb3d2;\n  font-weight: 500;\n  background: #2a2f3a;\n  border-radius: 12px;\n  margin: 5px;\n  height: 400px;\n  width: 300px;\n"]);return Ze=function(){return e},e}var Xe=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).marksRef=r.a.createRef(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.focusedNode,n=e.initialState;return r.a.createElement(Ve,null,""!==t?n.nodes.filter((function(e){return e.id===t})).map((function(e){return r.a.createElement("div",null,r.a.createElement("div",null,"\u0421\u0432\u043e\u0439\u0441\u0442\u0432\u0430 \u0432\u0435\u0440\u0448\u0438\u043d\u044b"),r.a.createElement("div",null,"ID: ",r.a.createElement(qe,null,e.id)),r.a.createElement("div",null,"\u0422\u0438\u043f \u0432\u0435\u0440\u0448\u0438\u043d\u044b: ",r.a.createElement(qe,null,e.nodeType)),"place"===e.nodeType?r.a.createElement("div",null,r.a.createElement("div",null,"\u041c\u0435\u0442\u043a\u0438: ",r.a.createElement(qe,null,e.marks))):r.a.createElement("div",null,null))})):null)}}]),n}(r.a.Component),Ve=h.a.div(Ze()),qe=h.a.span(Ke()),Qe=Object(p.b)((function(e){return{focusedNode:O(e),initialState:g(e)}}),{})(Xe),Je=n(158);function $e(){var e=Object(s.a)(["\n  background-color: white;\n  font-size: 14px;\n  font-weight: 700;\n  height: 600px;\n  width: 350px;\n  overflow: scroll;\n  border: thick double black;\n"]);return $e=function(){return e},e}function et(){var e=Object(s.a)(["\n  background-size: contain;\n  background-repeat: no-repeat;\n  font-weight: 1000;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]);return et=function(){return e},e}function tt(){var e=Object(s.a)(["\n  width: 600px;\n  display: flex;\n  flex-direction: row;\n  border-radius: 12px;\n  margin: 5px;\n  padding: 10px;\n  background: #2a2f3a;\n"]);return tt=function(){return e},e}var nt={handleSubmitStateToInitial:function(e){return{type:"SUBMIT_STATE_TO_INITIAL",payload:{netType:e.netType,nodes:e.nodes,links:e.links}}},handleSubmitStateToSequence:_,handleSubmitStateToTemporary:C,handleSubmitStateToCurrent:S,handleAddTransition:function(){return{type:"ADD_TRANSITION"}},handleAddPosition:function(){return{type:"ADD_POSITION"}},handleAddLink:function(){return{type:"ADD_LINK"}},handleCreateNewNet:function(){return{type:"CREATE_NEW_NET"}}},ot=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.temporaryState,n=e.handleSubmitStateToInitial,o=e.handleSubmitStateToTemporary,i=e.handleSubmitStateToSequence,a=e.handleSubmitStateToCurrent,s=e.handleAddTransition,c=e.handleAddPosition,l=e.handleAddLink,d=e.handleCreateNewNet;return r.a.createElement(rt,null,r.a.createElement(at,null,r.a.createElement(Je.JsonTree,{data:t,rootName:"\u042d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0433\u0440\u0430\u0444\u0430",onFullyUpdate:function(e){o(JSON.parse(JSON.stringify(e,null,4)))}})),r.a.createElement(it,null,r.a.createElement("button",{onClick:function(){s()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u0445\u043e\u0434"),r.a.createElement("button",{onClick:function(){c()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0437\u0438\u0446\u0438\u044e"),r.a.createElement("button",{onClick:function(){l()}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0443\u0433\u0443"),r.a.createElement("button",{onClick:function(){a(t),n(t),i(t)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"),r.a.createElement("button",{onClick:function(){d()}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0435\u0442\u044c")),r.a.createElement(Qe,null))}}]),n}(r.a.Component);ot.defaultProps={};var rt=h.a.div(tt()),it=h.a.div(et()),at=h.a.div($e()),st=Object(p.b)((function(e){return{temporaryState:k(e)}}),nt)(ot);function ct(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return ct=function(){return e},e}function lt(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  font-size: 30px;\n  background-color: #4f5a65;\n  cursor: pointer;\n  width: 50px;\n  height: 50px;\n  &:hover {\n    background-color: #5f6c79;\n  }\n  &:active {\n    background-color: #6fb3d2;\n  }\n  border: 1px solid black;\n  user-select: none;\n"]);return lt=function(){return e},e}function dt(){var e=Object(s.a)(["\n  color: #6fb3d2;\n  font-weight: 500;\n  display: flex;\n  flex-direction: column;\n  height: 70px;\n  width: 160px;\n  padding: 0px 5px 8px 5px;\n  background: #2a2f3a;\n  border-radius: 12px;\n  margin: 0 0 0 5px;\n  user-select: none;\n"]);return dt=function(){return e},e}var ut={handleFireTransitionOnSequence:function(e){return{type:"FIRE_TRANSITION_ON_SEQUENCE",payload:{next:e.next,transitions:e.transitions}}},handleSubmitStateToCurrent:S,handleSubmitStateToSequence:_,handleToggleIsFiring:function(){return{type:"TOGGLE_IS_FIRING"}}},ht=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).fireRef=r.a.createRef(),e.state={interval:null},e}return Object(l.a)(n,[{key:"autoFire",value:function(){var e=this,t=this.props.handleToggleIsFiring,n=this.state.interval;if(t(),n)clearInterval(n),this.setState({interval:null});else{var o=setInterval((function(){e.fireRef.current.click()}),1e3);this.setState({interval:o})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.initialState,o=t.sequence,i=t.isFiring,a=t.handleFireTransitionOnSequence,s=t.handleSubmitStateToCurrent,c=t.handleSubmitStateToSequence;return r.a.createElement(pt,null,r.a.createElement("div",null,"\u041f\u0430\u043d\u0435\u043b\u044c \u0441\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u0438"),r.a.createElement(ft,null,r.a.createElement(gt,{style:{pointerEvents:i?"none":null},onClick:function(){s(n),c(n)}},"\u23ee"),r.a.createElement(gt,{style:{pointerEvents:i?"none":null},ref:this.fireRef,onClick:function(){a(o)}},"\u23ef"),r.a.createElement(gt,{onClick:function(){e.autoFire()}},i?"\u23f8":"\u25b6\ufe0f")))}}]),n}(r.a.Component),pt=h.a.div(dt()),gt=h.a.div(lt()),ft=h.a.div(ct()),mt=Object(p.b)((function(e){return{initialState:g(e),sequence:v(e),isFiring:y(e)}}),ut)(ht);function kt(){var e=Object(s.a)(["\n  color: #a1c659;\n"]);return kt=function(){return e},e}function vt(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  color: #6fb3d2;\n  font-weight: 500;\n  border-radius: 12px;\n  margin: 0 0 0 5px;\n  padding: 0px 5px 8px 5px;\n  background: #2a2f3a;\n  height: 300px;\n  user-select: none;\n"]);return vt=function(){return e},e}var Ot=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.stats,n=e.sequence;return r.a.createElement(yt,null,r.a.createElement("div",null,"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),r.a.createElement("div",null,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043f\u0435\u0440\u0435\u0445\u043e\u0434:"," ",r.a.createElement(bt,null,n.transitions[n.next].id)),r.a.createElement("div",null,"\u0428\u0430\u0433\u043e\u0432 \u0441\u0434\u0435\u043b\u0430\u043d\u043e: ",r.a.createElement(bt,null,t.steps)),r.a.createElement("div",null,"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u0432 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e:"," ",r.a.createElement(bt,null,t.transitionsFired)),r.a.createElement("div",null,"\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u043e\u0432 \u043d\u0435 \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e:"," ",r.a.createElement(bt,null,t.transitionsFirednt)))}}]),n}(r.a.Component),yt=h.a.div(vt()),bt=h.a.span(kt()),Tt=Object(p.b)((function(e){return{stats:m(e),sequence:v(e)}}))(Ot),Et=n(159),St=n.n(Et);function Ct(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  user-select: none;\n  padding: 0 10px;\n"]);return Ct=function(){return e},e}function _t(){var e=Object(s.a)(["\n  background: url(",") no-repeat;\n  background-size: cover;\n  width: 360px;\n"]);return _t=function(){return e},e}function Nt(){var e=Object(s.a)(["\n  height: 60px;\n  background: #2a2f3a;\n  display: flex;\n  flex-direction: row;\n"]);return Nt=function(){return e},e}var jt={handleToggleEditor:function(){return{type:"TOGGLE_EDITOR"}},handleToggleSim:function(){return{type:"TOGGLE_SIM"}},handleToggleStats:function(){return{type:"TOGGLE_STATS"}},handleSubmitStateToTemporary:C},At=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.initialState,n=e.isEditorToggled,o=e.isSimToggled,i=e.isStatsToggled,a=e.handleToggleEditor,s=e.handleToggleSim,c=e.handleToggleStats,l=e.handleSubmitStateToTemporary;return r.a.createElement(xt,null,r.a.createElement(Lt,null),r.a.createElement(Rt,{style:n?{background:"#6fb3d2"}:{background:"#4f5a65"},onClick:function(){l(t),a()}},"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440"),r.a.createElement(Rt,{style:o?{background:"#6fb3d2"}:{background:"#4f5a65"},onClick:function(){s()}},"\u041f\u0430\u043d\u0435\u043b\u044c ","\n","\u0441\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u0438"," "),r.a.createElement(Rt,{style:i?{background:"#6fb3d2"}:{background:"#4f5a65"},onClick:function(){c()}},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"))}}]),n}(r.a.Component),xt=h.a.div(Nt()),Lt=h.a.div(_t(),St.a),Rt=h.a.div(Ct()),Dt=Object(p.b)((function(e){return{isEditorToggled:b(e),isSimToggled:T(e),isStatsToggled:E(e),initialState:g(e)}}),jt)(At);function Mt(){var e=Object(s.a)(["\n  display: flex;\n  color: white;\n  flex-wrap: wrap;\n"]);return Mt=function(){return e},e}function Pt(){var e=Object(s.a)(["\n  background-color: #434a5b;\n  min-height: 100vh;\n"]);return Pt=function(){return e},e}var It=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isEditorToggled,n=e.isSimToggled,o=e.isStatsToggled;return r.a.createElement(wt,null,r.a.createElement(Dt,null),r.a.createElement(Gt,null,r.a.createElement(Ye,null),n?r.a.createElement(mt,null):null,o?r.a.createElement(Tt,null):null,t?r.a.createElement(st,null):null))}}]),n}(r.a.Component),wt=h.a.div(Pt()),Gt=h.a.div(Mt()),Ft=Object(p.b)((function(e){return{isEditorToggled:b(e),isSimToggled:T(e),isStatsToggled:E(e)}}))(It),Wt=n(39),Ut=n(20),Bt={netType:{timed:!0},nodes:[{id:"T1",nodeType:"transition",delay:5},{id:"P1",nodeType:"place",marks:1},{id:"P2",nodeType:"place",marks:0},{id:"T2",nodeType:"transition",delay:1},{id:"P3",nodeType:"place",marks:0},{id:"P4",nodeType:"place",marks:1},{id:"T3",nodeType:"transition",delay:3},{id:"P5",nodeType:"place",marks:1},{id:"P6",nodeType:"place",marks:0},{id:"T4",nodeType:"transition",delay:2},{id:"P7",nodeType:"place",marks:0},{id:"P8",nodeType:"place",marks:1},{id:"P9",nodeType:"place",marks:0},{id:"T5",nodeType:"transition",delay:10},{id:"T6",nodeType:"transition",delay:4},{id:"P10",nodeType:"place",marks:1},{id:"P11",nodeType:"place",marks:0},{id:"T7",nodeType:"transition",delay:2},{id:"P12",nodeType:"place",marks:0},{id:"P13",nodeType:"place",marks:0}],links:[{source:"P1",target:"T1"},{source:"T1",target:"P1"},{source:"T1",target:"P2"},{source:"P2",target:"T2"},{source:"T2",target:"P3"},{source:"T2",target:"P4"},{source:"P4",target:"T2"},{source:"P5",target:"T2"},{source:"T3",target:"P5"},{source:"T3",target:"P5"},{source:"P6",target:"T3"},{source:"T4",target:"P6"},{source:"T4",target:"P4"},{source:"P8",target:"T4"},{source:"T2",target:"P9"},{source:"P9",target:"T5"},{source:"T5",target:"P8"},{source:"P3",target:"T6"},{source:"T6",target:"P10"},{source:"P10",target:"T6"},{source:"T3",target:"P11"},{source:"P11",target:"T7"},{source:"T7",target:"P12"},{source:"T7",target:"P13"}]},Ht=Object(Wt.b)({initialState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_STATE_TO_INITIAL":return t.payload;default:return e}},currentState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{netType:Bt.netType,stats:{steps:0,transitionsFired:0,transitionsFirednt:0},graphData:{nodes:Bt.nodes,links:Bt.links}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_STATE_TO_CURRENT":return{netType:e.netType,stats:{steps:0,transitionsFired:0,transitionsFirednt:0,transitions:t.payload.nodes.filter((function(e){return"transition"===e.nodeType}))},graphData:t.payload};case"FIRE_TRANSITION_ON_SEQUENCE":return-1!==e.graphData.nodes.findIndex((function(n){return n.marks<1&&-1!==e.graphData.links.findIndex((function(e){return e.source===n.id&&e.target===t.payload.transitions[t.payload.next].id}))}))||!0===e.netType.timed&&-1!==e.graphData.nodes.findIndex((function(e){return e.id===t.payload.transitions[t.payload.next].id&&e.sleepFor>0}))?{netType:e.netType,stats:{steps:e.stats.steps+1,transitionsFired:e.stats.transitionsFired,transitionsFirednt:e.stats.transitionsFirednt+1},graphData:{nodes:e.graphData.nodes.map((function(e,t){return"transition"===e.nodeType&&e.sleepFor>0?{id:e.id,nodeType:e.nodeType,delay:e.delay,sleepFor:e.sleepFor-1}:e})),links:Object(Ut.a)(e.graphData.links)}}:{netType:e.netType,stats:{steps:e.stats.steps+1,transitionsFired:e.stats.transitionsFired+1,transitionsFirednt:e.stats.transitionsFirednt},graphData:{nodes:e.graphData.nodes.map((function(n,o){switch(n.nodeType){case"transition":return n.id===t.payload.transitions[t.payload.next].id?{id:n.id,nodeType:n.nodeType,delay:n.delay,sleepFor:n.delay}:n.sleepFor>0?{id:n.id,nodeType:n.nodeType,delay:n.delay,sleepFor:n.sleepFor-1}:n;case"place":var r=n.marks;return-1!==e.graphData.links.findIndex((function(e){return e.target===t.payload.transitions[t.payload.next].id&&e.source===n.id}))&&(r-=1),-1!==e.graphData.links.findIndex((function(e){return e.target===n.id&&e.source===t.payload.transitions[t.payload.next].id}))&&(r+=1),{id:n.id,nodeType:n.nodeType,marks:r};default:return n}})),links:Object(Ut.a)(e.graphData.links)}};default:return e}},temporaryState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{netType:{timed:!1},nodes:[],links:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_STATE_TO_TEMPORARY":return t.payload;case"ADD_TRANSITION":return{netType:e.netType,nodes:[].concat(Object(Ut.a)(e.nodes),[{id:"",nodeType:"transition"}]),links:Object(Ut.a)(e.links)};case"ADD_POSITION":return{netType:e.netType,nodes:[].concat(Object(Ut.a)(e.nodes),[{id:"",nodeType:"place",marks:0}]),links:Object(Ut.a)(e.links)};case"ADD_LINK":return{netType:e.netType,nodes:Object(Ut.a)(e.nodes),links:[].concat(Object(Ut.a)(e.links),[{source:"",target:""}])};case"CREATE_NEW_NET":return{netType:{timed:!1},nodes:[{id:"P1",nodeType:"place",marks:0}],links:[]};default:return e}},sequence:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{next:0,transitions:[{id:"T1",nodeType:"transition"},{id:"T2",nodeType:"transition"}]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_STATE_TO_SEQUENCE":return{next:0,transitions:t.payload.nodes.filter((function(e){return"transition"===e.nodeType}))};case"FIRE_TRANSITION_ON_SEQUENCE":return e.next+1===e.transitions.length?{next:0,transitions:e.transitions}:{next:e.next+1,transitions:e.transitions};default:return e}},focusedNode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_NODE":return t.payload;default:return e}},isFiring:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_IS_FIRING":return!e;default:return e}},appContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editor:!1,sim:!0,stats:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_EDITOR":return{editor:!e.editor,sim:e.sim,stats:e.stats,nodeConfig:e.nodeConfig};case"TOGGLE_SIM":return{editor:e.editor,sim:!e.sim,stats:e.stats,nodeConfig:e.nodeConfig};case"TOGGLE_STATS":return{editor:e.editor,sim:e.sim,stats:!e.stats,nodeConfig:e.nodeConfig};default:return e}}}),zt=Object(Wt.c)(Ht,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(r.a.createElement(p.a,{store:zt},r.a.createElement(Ft,null)),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.d8155258.chunk.js.map